<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Gilde Opleidingen – Alle locaties</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    #map { height: 630px; width: 100%; }
    h1 { margin-bottom: 2px; }
  </style>
</head>
<body>
  <h1>Gilde Opleidingen – Locaties</h1>
  <div id="map"></div>

  <!-- leaflet toevoegen -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    // Map centreren op Noord-Limburg
    const map = L.map('map').setView([51.2, 6.0], 9);

    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    // Functie: marker plaatsen
    function addMarker(lat, lon, title, info) {
      L.marker([lat, lon]).addTo(map)
        .bindPopup(`<b>${title}</b><br>${info}<br>Lat: ${lat}, Lon: ${lon}`);
    }

    // Alle locaties ophalen
    fetch("https://nominatim.openstreetmap.org/search?format=json&q=gilde%20opleidingen")
      .then(res => res.json())
      .then(data => {
        console.log("Nominatim resultaten:", data);

        // Voor alle resultaten: marker neerzetten
        data.forEach((item, i) => {
          const lat = parseFloat(item.lat);
          const lon = parseFloat(item.lon);

          addMarker(lat, lon, `Gilde Opleidingen ${i+1}`, item.display_name);
        });

        // Optioneel: de kaart automatisch zoomen zodat alle markers zichtbaar zijn
        const bounds = data.map(item => [parseFloat(item.lat), parseFloat(item.lon)]);
        map.fitBounds(bounds);

      })
      .catch(err => console.error("Fout:", err));

  </script>
</body>
</html>
